<div layout="row" style="height: 20px;"></div>
<h3>Ou connectez-vous via votre adresse email</h3>
<div flex="100" layout-align="center center" layout-padding md-whiteframe="2" style="background-color: white">
    <form name="vm.userForm" ng-submit="vm.signup(vm.userForm.$valid)" novalidate autocomplete="off">
    <div layout="row" layout-xs="column">
        <md-input-container class="md-icon-float md-block" flex="50" flex-xs="100">
            <md-icon md-svg-icon="social:ic_person_24px" class="md-primary"></md-icon>
            <input ng-model="vm.credentials.firstName" type="text" placeholder="Prénom" id="firstName" name="firstName" lowercase required autofocus />
            <div ng-messages="vm.userForm.firstName.$error" role="alert">
                <p ng-message="required" class="error-text">Champs requis</p>
            </div>
        </md-input-container>
        <md-input-container class="md-icon-float md-block" flex="50" flex-xs="100">
            <md-icon md-svg-icon="social:ic_person_24px" class="md-primary"></md-icon>
            <input ng-model="vm.credentials.lastName" type="text" placeholder="Nom" id="lastName" name="lastName" lowercase required />
            <div ng-messages="vm.userForm.lastName.$error" role="alert">
                <p ng-message="required" class="error-text">Champs requis</p>
            </div>
        </md-input-container>
    </div>
    
    <md-input-container class="md-icon-float md-block">
        <md-icon md-svg-icon="content:ic_send_24px" class="md-primary"></md-icon>
        <input ng-model="vm.credentials.email" type="email" placeholder="Email" id="email" name="email" lowercase required />
        <div ng-messages="vm.userForm.email.$error" role="alert">
            <p ng-message="required" class="error-text">Adresse email requise</p>
            <p ng-message="email" class="error-text">Adresse email invalide</p>
        </div>
    </md-input-container>
    
    <md-input-container class="md-icon-float md-block">
        <md-icon md-svg-icon="social:ic_person_24px" class="md-primary"></md-icon>
        <input ng-model="vm.credentials.username" ng-pattern="vm.usernameRegex" type="text" placeholder="Username" id="username" name="username" lowercase required />
        <div ng-messages="vm.userForm.username.$error" role="alert">
            <p ng-message="required" class="error-text">Champs requis</p>
            <p ng-message="pattern" class="error-text">Saisissez un nom d'utilisateur valide : 3+ caractères de long, pas de noms interdits, caractères "_-.", pas de points(.) consécutifs, ne doit pas commencer ou se terminer par (.), lettres a-z, chiffres 0-9
            </p>
        </div>
    </md-input-container>
    
    <md-input-container md-no-float class="md-block">
        <md-icon md-svg-icon="action:ic_lock_24px" class="md-primary"></md-icon>
        <input ng-model="vm.credentials.password" type="password" placeholder="Password" id="password" name="password" password-validator required />
        <div ng-messages="vm.userForm.password.$error" role="alert">
            <p ng-message="required" class="error-text">Champs requis</p>
            <div ng-repeat="passwordError in passwordErrors">
                <p class="help-block error-text" ng-show="vm.userForm.password.$error.requirements">{{passwordError}}</p>
            </div>
        </div>
    </md-input-container>
    <div ng-show="!vm.userForm.password.$error.required">
        <span layout="row" layout-align="center center">Password Requirements : {{requirementsProgress}}%</span>
        <div layout="row" layout-align="center center">
            <md-progress-linear flex="60" md-mode="determinate" value="{{requirementsProgress}}"></md-progress-linear>
        </div>
        <br/>
    </div>
    
    
    <div class="center-align">
        <md-button type="submit" class="md-raised md-primary">Sign in</md-button>
        <a ui-sref="authentication.signin">
            <md-button md-no-ink class="md-primary">Sign in</md-button>
        </a>
    </div>
    <div type="danger" ng-show="vm.error" class="center-align">
        <span ng-bind="vm.error" class="error-text"></span>
    </div>
    </form>
</div>